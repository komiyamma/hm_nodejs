# hmEdgeJS プロジェクトの問題点

このドキュメントは、`hmEdgeJS` プロジェクトが現在抱えている主要な問題点をまとめたものです。

---

## 1. ビルドプロセスが極めて複雑かつ不安定

本プロジェクトのビルドプロセスは、手作業による介入を複数箇所で必要とするため、非常に不安定で再現性が低くなっています。これは、メンテナンスや新規開発者によるコントリビュートを著しく困難にしています。

- **手動でのバイナリ修正**: `nodejsのビルド.md` に記載の通り、ビルドの過程で生成される `edge_nativeclr.node` というバイナリファイルが、`node.dll` ではなく `node.exe` を参照してしまう問題があります。これを解決するために、**バイナリエディタで手動で修正する**という、極めて属人的でエラーを誘発しやすい手順が必須となっています。
- **ビルドスクリプトの場当たり的な修正**: ビルドエラーを回避するために、`node.gyp` ファイルや `download.cs` といった、ビルドに関連するファイルをその都度手動で修正する必要があります。
- **フォークされたリポジトリへの依存**: ビルドには、`github.com/komiyamma/edge-js-up_48` という、公式ではないフォークされた `edge-js` リポジトリが必要です。このリポジトリの継続的なメンテナンスは保証されていません。

これらの要因により、ビルド環境を再現し、安定してビルドを成功させることが非常に困難な状況です。

## 2. 依存関係の旧式化とセキュリティリスク

プロジェクトが依存しているライブラリやフレームワークが古く、セキュリティ上のリスクを抱えています。

- **Node.js v11.15.0 への依存**: `README.md` に記載の通り、本プロジェクトは Node.js の v11.15.0 に依存しています。このバージョンは **2019年6月1日にサポートが終了 (EOL) しており**、既知の脆弱性が存在する可能性が高いです。また、現代の多くの `npm` パッケージは、より新しいバージョンの Node.js を要求するため、利用できる機能に大きな制約が生じます。
- **古い開発環境**: `VS2015.md` というファイルが存在することから、プロジェクトが元々 Visual Studio 2015 という古い環境で開発されていたことが示唆されます。これもまた、現代的な開発手法やセキュリティ基準からの乖離を示しています。

## 3. 日本語環境における致命的な制限

`README.md` の「制限事項」に記載されている通り、本プロジェクトは**ファイルパスに日本語（マルチバイト文字）が含まれていると正常に動作しません。**

これは、メインターゲットユーザーである日本の秀丸エディタ利用者にって、非常に大きな制約となります。マクロやスクリプトを保存する場所が英数字のパスに限定されるため、利便性を著しく損なっています。

## 4. メンテナンス性の低さ

上記のすべての問題が複合的に絡み合い、プロジェクト全体のメンテナンス性を著しく低下させています。

- **技術スタックの複雑さ**: C++, C#, JavaScript という複数の言語が混在しており、デバッグや改修の難易度が高くなっています。
- **ドキュメントの不足**: ビルド手順に関するドキュメントは、個人のメモ書きに近く、新規の貢献者が理解するには情報が不足しています。
- **不安定なビルド**: 小さな修正であっても、ビルドが成功するかどうかが不確実であるため、継続的な改善が困難です。

以上の問題点から、本プロジェクトを継続的に発展させていくためには、これらの根本的な問題に対処する必要があると考えられます。
